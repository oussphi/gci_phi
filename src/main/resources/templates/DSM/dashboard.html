<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard DSM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes floaty {
            0% { transform: translateY(0) translateX(0) rotate(0); }
            50% { transform: translateY(-10px) translateX(6px) rotate(1.5deg); }
            100% { transform: translateY(0) translateX(0) rotate(0); }
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .aurora {
            background: linear-gradient(120deg, #eef2ff, #fdf2f8, #ecfeff, #f5f3ff);
            background-size: 300% 300%;
            animation: gradientShift 18s ease infinite;
        }
    </style>
</head>
<body class="min-h-screen antialiased text-gray-900 overflow-x-hidden flex flex-col">

<!-- Fond d√©coratif -->
<div class="absolute inset-0 -z-10 aurora"></div>
<div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-24 -left-24 w-[26rem] h-[26rem] rounded-full bg-gradient-to-tr from-indigo-400 via-violet-400 to-fuchsia-400 opacity-20 blur-3xl" style="animation: floaty 14s ease-in-out infinite;"></div>
    <div class="absolute -right-24 top-16 w-[22rem] h-[22rem] rounded-full bg-gradient-to-tr from-sky-300 via-indigo-300 to-rose-300 opacity-20 blur-3xl" style="animation: floaty 18s ease-in-out infinite;"></div>
    <div class="absolute left-1/2 -bottom-32 -translate-x-1/2 w-[38rem] h-[38rem] rounded-full bg-gradient-to-tr from-fuchsia-300 via-violet-300 to-cyan-300 opacity-20 blur-3xl" style="animation: floaty 22s ease-in-out infinite;"></div>
</div>

<!-- üîπ HEADER avec logo, retour, logout -->
<div th:replace="fragments/header :: body"></div>

<!-- üîπ DASHBOARD -->
<main class="flex-1">
    <div class="container mx-auto px-4 py-14">
        <section class="relative mx-auto max-w-5xl overflow-hidden rounded-3xl bg-white/70 backdrop-blur-xl ring-1 ring-black/5 shadow-2xl">
            <!-- Liser√© d√©grad√© -->
            <div class="pointer-events-none absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500"></div>

            <div class="p-8 sm:p-10">
                <!-- En-t√™te / avatar + nom -->
                <div class="flex items-center gap-4">
                    <div class="relative grid h-16 w-16 place-items-center rounded-2xl bg-gradient-to-br from-indigo-500 via-fuchsia-500 to-cyan-400 text-white shadow-lg ring-1 ring-black/10">
                        <!-- Ic√¥ne manager -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 opacity-95" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.8 0 5-2.2 5-5s-2.2-5-5-5-5 2.2-5 5 2.2 5 5 5Zm0 2c-4.7 0-8.5 2.9-8.5 6.5 0 .8.7 1.5 1.5 1.5h14c.8 0 1.5-.7 1.5-1.5 0-3.6-3.8-6.5-8.5-6.5Z"/>
                        </svg>
                    </div>
                    <div class="min-w-0">
                        <p class="inline-flex items-center gap-2 text-xs font-medium text-indigo-700">
                            <span class="inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-1 ring-1 ring-indigo-100">
                                R√¥le&nbsp;:
                                <span class="ml-1 font-semibold text-indigo-600"
                                      th:text="${#strings.equalsIgnoreCase(role,'ROLE_CLIENT') ? 'D√©l√©gu√©¬†Pharmaceutique' :
                                                 (#strings.equalsIgnoreCase(role,'DSM') ? 'BU¬†commercial' :
                                                 ((#strings.equalsIgnoreCase(role,'admin') or #strings.equalsIgnoreCase(role,'ROLE_ADMIN')) ? 'admin' : role))}">DSM</span>
                            </span>
                        </p>
                        <h1 class="mt-2 text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900">
                            Bienvenue, <span class="bg-gradient-to-r from-indigo-600 via-fuchsia-600 to-cyan-600 bg-clip-text text-transparent" th:text="${username}">DSM</span>
                        </h1>
                        <p class="mt-2 text-gray-600">Acc√©dez √† vos actions cl√©s ci-dessous.</p>
                    </div>
                </div>

                <!-- Actions Disponibles -->
                <h3 class="mt-10 text-lg font-semibold text-gray-800">Actions disponibles</h3>
                <div class="mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
                    <!-- Commandes pass√©es -->
                    <a th:href="@{/DSM/commandes}" class="group relative block rounded-2xl border border-gray-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Voir les commandes pass√©es">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                                <!-- clipboard-list -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M9 2h6a2 2 0 0 1 2 2h1a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1a2 2 0 0 1 2-2Zm0 2a1 1 0 0 0-1 1H7v1h10V5h-1a1 1 0 0 0-1-1H9Zm0 6h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2Zm0 4h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Voir les commandes pass√©es</h4>
                                <p class="mt-1 text-sm text-gray-600">Suivez l‚Äôhistorique et les statuts.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>

                    <!-- Nouvelle commande (DSM) -->
                    <a th:href="@{/DSM/commandes/nouvelle}" class="group relative block rounded-2xl border border-emerald-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-emerald-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500" aria-label="Cr√©er une nouvelle commande">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-emerald-50 p-3 ring-1 ring-emerald-100">
                                <!-- cart-plus -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm10 0a2 2 0 1 0 .001 3.999A2 2 0 0 0 17 18ZM6.2 6l.3 2H20a1 1 0 0 1 .97 1.243l-2 8A1 1 0 0 1 18 18H8a1 1 0 0 1-.97-.757L4.28 4H2a1 1 0 1 1 0-2h3a1 1 0 0 1 .97.757L6.2 6ZM13 3a1 1 0 1 1 2 0v1h1a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0V6h-1a1 1 0 1 1 0-2h1V3Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Nouvelle commande</h4>
                                <p class="mt-1 text-sm text-gray-600">Choisissez l‚Äôoffre, le VM, la pharmacie et les produits.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-emerald-500 via-green-500 to-lime-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>

                    <!-- Statistiques -->
                    <a th:href="@{/DSM/statistiques}" class="group relative block rounded-2xl border border-gray-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Voir les statistiques et graphiques">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                                <!-- chart -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 3a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v18H3V3Zm6 7a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v11H9V10Zm6-5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v16h-3V5Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Statistiques & graphiques</h4>
                                <p class="mt-1 text-sm text-gray-600">Analyse des ventes et performances.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>

                    <!-- Nouvelle offre -->
                    <a th:href="@{/DSM/nouvelle-offre}" class="group relative block rounded-2xl border border-green-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-green-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500" aria-label="Cr√©er une nouvelle offre">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-green-50 p-3 ring-1 ring-green-100">
                                <!-- sparkles -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M5 3l1.5 3L10 7.5 6.5 9 5 12 3.5 9 0 7.5 3.5 6 5 3Zm11 2l2 4 4 2-4 2-2 4-2-4-4-2 4-2 2-4Zm-6 8l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Cr√©er une nouvelle offre</h4>
                                <p class="mt-1 text-sm text-gray-600">D√©finissez tarifs, dates et dotations.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-green-500 via-emerald-500 to-lime-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>

                    <!-- Nouveau client 
                    <a th:href="@{/DSM/nouveau-client}" class="group relative block rounded-2xl border border-blue-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-blue-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500" aria-label="Cr√©er un nouveau client">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-blue-50 p-3 ring-1 ring-blue-100">
                                <!-- user-plus 
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M15 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-3 8a7 7 0 0 0-12 4 2 2 0 0 0 2 2h10a7 7 0 0 0 0-6ZM21 8h-2V6a1 1 0 1 0-2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0V10h2a1 1 0 1 0 0-2Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Cr√©er un nouveau client</h4>
                                <p class="mt-1 text-sm text-gray-600">Ajoutez une pharmacie / partenaire.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-sky-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>-->

                    <!-- Mes offres -->
                    <a th:href="@{/DSM/mes-offres}" class="group relative block rounded-2xl border border-indigo-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Voir mes offres">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                                <!-- tags -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.59 13.41 12 22l-8.59-8.59A2 2 0 0 1 3 12V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.41.59l7.18 7.18a2 2 0 0 1 0 2.83zM7.5 7A1.5 1.5 0 1 0 9 8.5 1.5 1.5 0 0 0 7.5 7z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">Voir mes offres</h4>
                                <p class="mt-1 text-sm text-gray-600">G√©rez, dupliquez, archivez vos offres.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>

                    <!-- Pharmacies -->
                    <a th:href="@{/DSM/pharmacies}" class="group relative block rounded-2xl border border-yellow-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-yellow-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-500" aria-label="G√©rer les pharmacies">
                        <div class="flex items-start gap-4">
                            <div class="rounded-xl bg-yellow-50 p-3 ring-1 ring-yellow-100">
                                <!-- building/store -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 4h18l-1 6a2 2 0 0 1-2 2h-1v8H7v-8H6a2 2 0 0 1-2-2L3 4Zm6 10h6v6H9v-6Z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="text-base font-semibold text-gray-900">G√©rer les pharmacies</h4>
                                <p class="mt-1 text-sm text-gray-600">Fiches, contacts, zones et suivi.</p>
                            </div>
                            <div class="ml-2 self-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor"><path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/></svg>
                            </div>
                        </div>
                        <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-amber-500 via-yellow-500 to-orange-400 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                    </a>
                </div>

                <!-- Astuce UX -->
                <p class="mt-8 text-xs text-gray-500">
                    Astuce&nbsp;: utilisez <span class="rounded bg-gray-100 px-1.5 py-0.5 font-mono text-[11px]">Tab</span> pour naviguer entre les cartes et <span class="rounded bg-gray-100 px-1.5 py-0.5 font-mono text-[11px]">Entr√©e</span> pour ouvrir.
                </p>
            </div>
        </section>
    </div>
</main>

<!-- Pied de page -->
<footer class="mt-auto">
    <div class="container mx-auto px-4 py-8 text-center text-sm text-gray-600">
        &copy; <span id="year"></span> DSM Dashboard ¬∑ Tous droits r√©serv√©s
    </div>
</footer>

<script>
    // Mise √† jour de l'ann√©e automatiquement
    document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard VM</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Petites animations et effets d’arrière-plan */
        @keyframes floaty {
            0% { transform: translateY(0) translateX(0) rotate(0); }
            50% { transform: translateY(-12px) translateX(6px) rotate(2deg); }
            100% { transform: translateY(0) translateX(0) rotate(0); }
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .aurora {
            background: linear-gradient(120deg, #eef2ff, #fdf2f8, #ecfeff, #f5f3ff);
            background-size: 300% 300%;
            animation: gradientShift 18s ease infinite;
        }
    </style>
</head>

<body class="min-h-screen antialiased text-gray-900 overflow-x-hidden">

<!-- Fond décoratif -->
<div class="absolute inset-0 -z-10 aurora"></div>
<div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-28 -left-28 w-[28rem] h-[28rem] rounded-full bg-gradient-to-tr from-indigo-400 via-violet-400 to-fuchsia-400 opacity-20 blur-3xl" style="animation: floaty 12s ease-in-out infinite;"></div>
    <div class="absolute -right-24 top-16 w-[24rem] h-[24rem] rounded-full bg-gradient-to-tr from-sky-300 via-indigo-300 to-rose-300 opacity-20 blur-3xl" style="animation: floaty 16s ease-in-out infinite;"></div>
    <div class="absolute left-1/2 -bottom-32 -translate-x-1/2 w-[40rem] h-[40rem] rounded-full bg-gradient-to-tr from-fuchsia-300 via-violet-300 to-cyan-300 opacity-20 blur-3xl" style="animation: floaty 20s ease-in-out infinite;"></div>
</div>

<!-- Navbar -->
<div th:replace="fragments/header :: body"></div>

<!-- Contenu principal -->
<main class="container mx-auto px-4 py-16">
    <section class="relative mx-auto max-w-4xl overflow-hidden rounded-3xl bg-white/70 backdrop-blur-xl ring-1 ring-black/5 shadow-2xl">
        <!-- Liseré dégradé -->
        <div class="pointer-events-none absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500"></div>

        <div class="p-8 sm:p-10">
            <!-- En-tête / avatar -->
            <div class="flex items-center gap-4">
                <div class="relative grid h-16 w-16 place-items-center rounded-2xl bg-gradient-to-br from-indigo-500 via-fuchsia-500 to-cyan-400 text-white shadow-lg ring-1 ring-black/10">
                    <!-- Icône utilisateur (SVG inline) -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 opacity-95" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.761 0 5-2.462 5-5.5S14.761 1 12 1 7 3.462 7 6.5 9.239 12 12 12zm0 2c-4.418 0-8 3.134-8 7 0 .552.448 1 1 1h14c.552 0 1-.448 1-1 0-3.866-3.582-7-8-7z"/>
                    </svg>
                </div>
                <div class="min-w-0">
                    <p class="inline-flex items-center gap-2 text-xs font-medium text-indigo-700">
                        <span class="inline-flex items-center rounded-full bg-indigo-50 px-2.5 py-1 ring-1 ring-indigo-100">
                            Rôle&nbsp;:
                            <span class="ml-1 font-semibold text-indigo-600"
                                  th:text="${#strings.equalsIgnoreCase(role,'ROLE_CLIENT') ? 'Délégué Pharmaceutique' :
                                             (#strings.equalsIgnoreCase(role,'DSM') ? 'BU commercial' :
                                             ((#strings.equalsIgnoreCase(role,'admin') or #strings.equalsIgnoreCase(role,'ROLE_ADMIN')) ? 'admin' : role))}">VM</span>
                        </span>
                    </p>
                    <h1 class="mt-2 text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900">
                        Bienvenue, <span class="bg-gradient-to-r from-indigo-600 via-fuchsia-600 to-cyan-600 bg-clip-text text-transparent">[[${username}]]</span>
                    </h1>
                    <p class="mt-2 text-gray-600">
                        Accédez rapidement à vos actions clés ci-dessous.
                    </p>
                </div>
            </div>

            <!-- Menu d’actions -->
            <div class="mt-10 grid gap-4 sm:grid-cols-2">
                <!-- Offres -->
                <a th:href="@{/client/offres}" class="group relative block rounded-2xl border border-gray-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Voir les offres disponibles">
                    <div class="flex items-start gap-4">
                        <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                            <!-- Icône étiquette/offres -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20.59 13.41 12 22l-8.59-8.59A2 2 0 0 1 3 12V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.41.59l7.18 7.18a2 2 0 0 1 0 2.83zM7.5 7A1.5 1.5 0 1 0 9 8.5 1.5 1.5 0 0 0 7.5 7z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-gray-900">
                                Voir les offres disponibles
                            </h3>
                            <p class="mt-1 text-sm text-gray-600">
                                Parcourez les offres actives, filtrez par date et catégorie.
                            </p>
                        </div>
                        <div class="ml-2 self-center">
                            <!-- Chevron -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/>
                            </svg>
                        </div>
                    </div>
                    <!-- Lueur en bas au survol -->
                    <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                </a>

                <!-- Commandes -->
                <a th:href="@{/client/commandes}" class="group relative block rounded-2xl border border-gray-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Historique des commandes">
                    <div class="flex items-start gap-4">
                        <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                            <!-- Icône historique/horloge -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm1 11a1 1 0 0 1-1 1H8a1 1 0 0 1 0-2h3V6a1 1 0 0 1 2 0z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-gray-900">
                                Historique des commandes
                            </h3>
                            <p class="mt-1 text-sm text-gray-600">
                                Consultez le suivi, les statuts et vos documents de commande.
                            </p>
                        </div>
                        <div class="ml-2 self-center">
                            <!-- Chevron -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/>
                            </svg>
                        </div>
                    </div>
                    <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                </a>

                <!-- (Optionnel) Profil – décommenter si besoin -->
                <!--
                <a th:href="@{/client/profil}" class="group relative block rounded-2xl border border-gray-200/70 bg-white/80 p-5 transition-all duration-300 hover:-translate-y-0.5 hover:border-indigo-300/70 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500" aria-label="Voir mon profil">
                    <div class="flex items-start gap-4">
                        <div class="rounded-xl bg-indigo-50 p-3 ring-1 ring-indigo-100">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 transition-transform duration-300 group-hover:scale-110" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 12c2.761 0 5-2.462 5-5.5S14.761 1 12 1 7 3.462 7 6.5 9.239 12 12 12zm0 2c-4.418 0-8 3.134-8 7 0 .552.448 1 1 1h14c.552 0 1-.448 1-1 0-3.866-3.582-7-8-7z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="text-lg font-semibold text-gray-900">Voir mon profil</h3>
                            <p class="mt-1 text-sm text-gray-600">Informations personnelles, préférences et sécurité.</p>
                        </div>
                        <div class="ml-2 self-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 translate-x-0 text-gray-400 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9.29 6.71a1 1 0 0 0 0 1.41L12.17 11l-2.88 2.88a1 1 0 1 0 1.42 1.41l3.59-3.59a1 1 0 0 0 0-1.41L10.71 6.7a1 1 0 0 0-1.42.01z"/>
                            </svg>
                        </div>
                    </div>
                    <span class="pointer-events-none absolute inset-x-4 bottom-0 h-0.5 bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-cyan-500 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></span>
                </a>
                -->
            </div>

            <!-- Astuce UX -->
            <p class="mt-8 text-xs text-gray-500">
                Astuce&nbsp;: utilisez <span class="rounded bg-gray-100 px-1.5 py-0.5 font-mono text-[11px]">Tab</span> pour naviguer entre les cartes et <span class="rounded bg-gray-100 px-1.5 py-0.5 font-mono text-[11px]">Entrée</span> pour ouvrir.
            </p>
        </div>
    </section>
</main>

<!-- Pied de page -->
<footer class="mt-12">
    <div class="container mx-auto px-4 py-8 text-center text-sm text-gray-600">
        &copy; <span id="year"></span> VM Dashboard · Tous droits réservés
    </div>
</footer>

<script>
    // Mise à jour de l'année automatiquement
    document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>
